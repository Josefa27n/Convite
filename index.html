<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Convite</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Poppins', Arial, sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
  color:white;
  text-align:center;
  background:black;
  overflow:hidden;
}

/* CONTAINER DO V√çDEO (ESSA PARTE √â A CHAVE) */
#bgWrap{
  position:fixed;
  inset:0;
  z-index:-2;
  background:black;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

/* PC */
#bg{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* üì± MOBILE - NUNCA CORTA */
@media (max-width:768px){
  #bg{
    width:auto;
    height:auto;
    max-width:100vw;
    max-height:100vh;
    object-fit:contain;
  }
}

/* CAIXA CENTRAL */
.card{
  position:relative;
  background:rgba(0,0,0,0.65);
  backdrop-filter:blur(6px);
  padding:40px 30px;
  border-radius:18px;
  width:340px;
  max-width:90%;
  box-shadow:0 0 20px rgba(0,0,0,0.7);
  overflow:hidden;
}

/* BOT√ïES */
button{
  padding:14px 28px;
  margin:8px;
  font-size:18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
}
.sim{ background:linear-gradient(45deg,#00c853,#00e676); color:black; }
.nao{ background:linear-gradient(45deg,#d50000,#ff5252); color:white; }

/* FOGOS */
.rocket{
  position:fixed;
  bottom:-20px;
  width:4px;
  height:20px;
  background:linear-gradient(to top, #fff, transparent);
  animation:subir 1s ease-out forwards;
}
@keyframes subir{
  from{ transform:translateY(0); opacity:1; }
  to{ transform:translateY(var(--altura)); opacity:0; }
}
.firework{
  position:fixed;
  width:6px;
  height:6px;
  border-radius:50%;
  pointer-events:none;
  animation:explodir 1.4s ease-out forwards;
}
@keyframes explodir{
  from{ transform:translate(0,0) scale(1); opacity:1; }
  to{ transform:translate(var(--x), var(--y)) scale(0); opacity:0; }
}
</style>
</head>

<body>

<div id="bgWrap">
  <video id="bg" autoplay muted loop playsinline webkit-playsinline>
    <source src="fundo.mp4" type="video/mp4">
  </video>
</div>

<div class="card">
  <h1 id="nome"></h1>
  <p id="pergunta">Voc√™ vai?</p>
  <p id="msg"></p>

  <button class="sim" id="btnSim" onclick="responder('SIM')">SIM</button>
  <button class="nao" onclick="responder('NAO')">N√ÉO</button>
</div>

<script>
const nome = new URLSearchParams(location.search).get("nome") || "Convidado";
document.getElementById("nome").innerText = nome + ",";

/* FOGOS SUBINDO DO CH√ÉO */
function fogosAnoNovo(){
  for(let f=0; f<6; f++){
    const x = Math.random() * window.innerWidth;
    const altura = -(200 + Math.random()*300);

    const rocket = document.createElement("div");
    rocket.className = "rocket";
    rocket.style.left = x + "px";
    rocket.style.setProperty("--altura", altura + "px");
    document.body.appendChild(rocket);

    setTimeout(() => {
      rocket.remove();
      explodir(x, window.innerHeight + altura);
    }, 900);
  }
}

function explodir(x, y){
  for(let i=0;i<120;i++){
    const p = document.createElement("div");
    p.className = "firework";
    p.style.left = x + "px";
    p.style.top = y + "px";
    p.style.background = `hsl(${Math.random()*360},100%,60%)`;

    const ang = Math.random() * Math.PI * 2;
    const dist = 150 + Math.random()*250;

    p.style.setProperty("--x", Math.cos(ang)*dist + "px");
    p.style.setProperty("--y", Math.sin(ang)*dist + "px");

    document.body.appendChild(p);
    setTimeout(()=>p.remove(),1400);
  }
}

function responder(resp){
  if(resp === "NAO"){
    let i = 0;
    const show = setInterval(() => {
      fogosAnoNovo();
      i++;
      if(i > 6) clearInterval(show);
    }, 350);

    document.getElementById("msg").innerText =
      "fico triste com uma not√≠cia dessa ü•≥üéâ";
  }
}
</script>

</body>
</html>
