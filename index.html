<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Convite</title>
<style>
body{
  margin:0;
  font-family:Arial;
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
  color:white;
  text-align:center;
  background:black;
}
#bg{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-1;
}
button{
  padding:15px 30px;
  margin:10px;
  font-size:18px;
  border:none;
  cursor:pointer;
}
.sim{background:green;color:white;}
.nao{background:red;color:white;}
</style>
</head>
<body>

<video autoplay muted loop playsinline id="bg">
  <source src="fundo.mp4" type="video/mp4">
</video>

<div>
  <h1 id="nome"></h1>
  <p id="Pergunta">Você vai?</p>
  <p id="msg"></p>
  <button class="sim" id="btnSim" onclick="responder('SIM')">SIM</button>
  <button class="nao" onclick="responder('NAO')">NÃO</button>
</div>

<script>
const nome = new URLSearchParams(location.search).get("nome") || "Convidado";
document.getElementById("nome").innerText = nome + ",";

const btnSim =
document.getElementById("btnSim");

function moverBotao(){
  const largura = window.innerWidth - 120;
  const altura = window.innerHeight - 60;

  const x = Math.random() * largura;
  const y = Math.random() * altura;

  btnSim.style.position = "fixed";
  btnSim.style.left = x + "px";
  btnSim.style.top = y + "px";
}

btnSim.addEventListener("mouseenter", moverBotao);
btnSim.addEventListener("touchstart", moverBotao);
  
const etapas = [
  "Você vai?",
  "Você tem certeza?",
  "Você tem certeza absoluta?",
  "É sua última chance de dizer não..."
];

let etapaAtual = 0;

function responder(resp){
  const pergunta =
document.getElementById("pergunta");

  if(resp === "SIM"){
    etapaAtual++;

    if(etapaAtual < etapas.length){
      pergunta.innerText = etapas[etapaAtual];
      return;
    }
  }
  
  fetch("COLE_AQUI_URL_DO_SCRIPT",{
    method:"POST",
    body:JSON.stringify({nome,resposta:resp,data:new Date()}),
    headers:{"Content-Type":"application/json"}
  }).then(()=>{})
}
</script>

</body>
</html>
